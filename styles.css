/* ------------------------ 基础变量与高效布局 ------------------------ */
:root {
    /* 安全区域兜底值（适配刘海/挖孔屏） */
    --safe-area-top: env(safe-area-inset-top, 44px);
    --safe-area-bottom: env(safe-area-inset-bottom, 34px);
    
    /* 主题样式变量（统一管理） */
    --modal-bg: #f8f9fa;
    --modal-padding: 30px;
    --border-radius: 10px;
    --shadow-light: 0 4px 8px rgba(0, 0, 0, 0.1);
    --animation-duration: 0.3s;
}

#age-verification-modal {
    position: fixed;
    inset: 0; /* 替代top/left/width/height，更简洁 */
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.modal-content {
    background-color: var(--modal-bg);
    padding: var(--modal-padding);
    border-radius: var(--border-radius);
    text-align: center;
    box-shadow: var(--shadow-light);
    animation: fadeIn var(--animation-duration) ease-in-out;
    
    /* 移动端适配（防止屏幕边缘溢出） */
    max-width: 90vw; /* 限制最大宽度，适配小屏设备 */
    max-height: 90vh; /* 限制最大高度，避免遮挡底部安全区域 */
}

@keyframes fadeIn {
    0% {
        opacity: 0;
        transform: translateY(-20px); /* 原有动画保留，增加性能优化 */
        filter: blur(4px); /* 增强动画效果，不影响性能 */
    }
    100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
    }
}

/* ------------------------ 视频容器增强适配（关键优化） ------------------------ */
#video-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    
    /* 安全区域适配（移动端自动避开刘海/挖孔） */
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
    
    /* 高性能布局（减少回流/重绘） */
    will-change: transform;
    backface-visibility: hidden;
}

/* 响应式视频比例（横竖屏自动切换） */
#video-container > iframe {
    /* 基础比例（横屏默认16:9） */
    aspect-ratio: 16/9;
    width: 100%;
    max-width: 1280px; /* PC端最大宽度 */
    height: auto;
    
    /* 移动端竖屏优化（9:16比例） */
    @media (orientation: portrait) and (max-width: 768px) {
        aspect-ratio: 9/16;
        max-width: 90vw; /* 留5%边距防刘海遮挡 */
    }
    
    /* 高清屏优化（提升视频清晰度） */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

/* ------------------------ 性能与兼容性优化 ------------------------ */
/* 硬件加速（动画相关元素） */
#age-verification-modal,
.modal-content {
    transform: translateZ(0);
}

/* 旧版浏览器兼容（替代方案） */
@supports not (aspect-ratio: 16/9) {
    #video-container > iframe {
        position: relative;
        width: 100%;
        height: calc(100% * 9/16); /* 伪比例适配 */
    }
}

/* 隐藏滚动条（全屏场景不需要） */
body {
    overflow: hidden;
}
